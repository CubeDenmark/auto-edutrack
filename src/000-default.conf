<VirtualHost *:443>
    ServerAdmin admin@edutrack.space
    ServerName edutrack.space
    DocumentRoot /var/www/html/public

    SSLEngine on
    SSLCertificateFile /etc/ssl/certs/edutrack-cert.pem
    SSLCertificateKeyFile /etc/ssl/private/edutrack-key.pem

    <Directory /var/www/html/public>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    ErrorLog /dev/stderr
    CustomLog /dev/stdout combined

    # To ensure HTTPS is used
    RequestHeader set X-Forwarded-Proto "https"
    RequestHeader set X-Forwarded-Port "443"
    RequestHeader set X-Forwarded-Host "edutrack.space"
</VirtualHost>

<VirtualHost *:80>
    ServerName edutrack.space
    Redirect permanent / https://edutrack.space/
</VirtualHost>


# <VirtualHost *:80>
#     ServerAdmin admin@edutrack.local
#     DocumentRoot /var/www/html/public
#     ServerName edutrack.local
#     ServerAlias www.edutrack.local

#     <Directory /var/www/html/public>
#         AllowOverride All
#         Require all granted
#         Options Indexes FollowSymLinks
#     </Directory>

#     # Log Files (use stdout and stderr for Docker logging)
#     ErrorLog /dev/stderr
#     CustomLog /dev/stdout combined

#     # Security: Prevent access to hidden files (e.g., .htaccess, .env)
#     <FilesMatch "^\.">
#         Require all denied
#     </FilesMatch>
# </VirtualHost>
